import{o as r,g as E,b as g,r as m,u as N,J as T,E as D,c as d,a as e,e as s,i,v as f,h as v,f as R,j,t as F,D as b,F as $,l as O,C as S,z as q,p as J,n as L,I as h}from"./main.f1e6f1a4.js";import{u as G}from"./auth.b0e84393.js";import{a as A,r as H}from"./ExclamationIcon.bcf8e19d.js";import{_ as K}from"./plugin-vue_export-helper.21dcd24c.js";function P(c,x){return r(),E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[g("path",{d:"M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"})])}const l=c=>(J("data-v-21b15270"),c=c(),L(),c),Q={class:"relative flex flex-col mb-8"},W=l(()=>e("span",null,"filters",-1)),X={key:0,class:"absolute right-0 top-2"},Y={key:0,class:"flex items-center col-span-2 mb-4 space-x-2 text-sm font-medium alert"},Z={key:1,class:"flex flex-col"},ee=l(()=>e("label",{class:"mb-2 font-bold"},"Universit\xE9",-1)),te={class:""},se=l(()=>e("label",{class:"block mb-2 font-bold"},"Sexe",-1)),oe={class:"flex items-center space-x-2"},ae=l(()=>e("span",null,"F\xE9minin",-1)),le=l(()=>e("span",null,"Masculin",-1)),ne={class:""},ie=l(()=>e("label",{class:"block mb-2 font-bold"},"Ann\xE9e",-1)),re={class:"flex items-center space-x-2"},de=l(()=>e("label",{for:""},"nouveaux inscripts",-1)),ue={key:0,class:"space-x-2"},ce=l(()=>e("label",{for:"start_date"},"inscrits entre",-1)),pe=l(()=>e("label",{for:"end_date"},"et",-1)),ve=l(()=>e("label",{class:"block mb-2 font-bold",for:"level"},"Niveau",-1)),me=l(()=>e("option",{value:"0"},"BAC I",-1)),_e=l(()=>e("option",{value:"1"},"BAC II",-1)),fe=l(()=>e("option",{value:"2"},"BAC III",-1)),be=[me,_e,fe],he=l(()=>e("label",{class:"block mb-2 font-bold",for:"type"},"Cat\xE9gorie des \xE9tudiants",-1)),ge=l(()=>e("option",{value:"R\xE9ussi"},"R\xE9ussi",-1)),xe=l(()=>e("option",{value:"Echou\xE9"},"Echou\xE9",-1)),ye=l(()=>e("option",{value:"Abandonn\xE9"},"Abandonn\xE9",-1)),we=[ge,xe,ye],Ve={name:"TableFilters",props:{filters:Object},setup(c){var w,V,k,I,C,M,U;const x=c,{isUniversity:B}=G(),n=m(x.filters),p=m(!1),y=m([]),_=m(n.value.search),o=N({"universities.name":(w=n.value["universities.name"])!=null?w:null,gender:(V=n.value.gender)!=null?V:null,freshmen:(k=n.value.freshmen)!=null?k:null,"registrations.start_date":(I=n.value["registrations.start_date"])!=null?I:null,"registrations.end_date":(C=n.value["registrations.end_date"])!=null?C:null,"registrations.level":(M=n.value["registrations.level"])!=null?M:null,"results.mention":(U=n.value["results.mention"])!=null?U:null});T(_,u=>{u.length>0?h.Inertia.get("/students",{filter:n.value,search:u},{preserveState:!0}):h.Inertia.get("/students")});function z(){if(o.isDirty){for(const[u,t]of Object.entries(o.data()))t&&(n.value[u]=t);p.value=!1,h.Inertia.get("/students",{filter:n.value},{preserveState:!0})}}return D(async()=>{await A.get("/sanctum/csrf-cookie");const{data:u}=await A.get("/api/universities");y.value=u}),(u,t)=>(r(),d("div",Q,[e("div",{onClick:t[0]||(t[0]=a=>p.value=!p.value),class:"flex mt-2 space-x-2 text-sm uppercase cursor-pointer"},[g(s(P),{class:"w-5 h-5"}),W]),p.value?v("",!0):(r(),d("form",X,[i(e("input",{id:"search",class:"max-w-[15rem] input py-1",placeholder:"Rechercher...",autocomplete:"off","onUpdate:modelValue":t[1]||(t[1]=a=>_.value=a)},null,512),[[f,_.value]])])),p.value?(r(),d("form",{key:1,onSubmit:t[11]||(t[11]=R(()=>{},["prevent"])),class:"z-10 grid w-full min-h-full grid-cols-2 gap-6 p-6 mt-2 overflow-y-auto text-sm bg-white border shadow-lg"},[s(o).hasErrors?(r(),d("div",Y,[g(s(H),{class:"w-6 h-6"}),j(" "+F(s(o).errors.filters),1)])):v("",!0),s(B)?v("",!0):(r(),d("div",Z,[ee,i(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>s(o)["universities.name"]=a)},[(r(!0),d($,null,O(y.value,a=>(r(),d("option",null,F(a.name),1))),256))],512),[[b,s(o)["universities.name"]]])])),e("div",te,[se,e("div",oe,[i(e("input",{type:"radio",name:"sexe",id:"","onUpdate:modelValue":t[3]||(t[3]=a=>s(o).gender=a),value:"F\xE9minin"},null,512),[[S,s(o).gender]]),ae,i(e("input",{type:"radio",name:"sexe",id:"","onUpdate:modelValue":t[4]||(t[4]=a=>s(o).gender=a),value:"Masculin"},null,512),[[S,s(o).gender]]),le])]),e("div",ne,[ie,e("div",re,[de,i(e("input",{type:"checkbox",name:"new_students","onUpdate:modelValue":t[5]||(t[5]=a=>s(o).freshmen=a),id:""},null,512),[[q,s(o).freshmen]])]),s(o).freshmen?v("",!0):(r(),d("div",ue,[ce,i(e("input",{type:"text",id:"start_date","onUpdate:modelValue":t[6]||(t[6]=a=>s(o)["registrations.start_date"]=a),onChange:t[7]||(t[7]=a=>s(o).freshmen=!1),class:"w-10 mb-2 border-b-2 border-gray-300"},null,544),[[f,s(o)["registrations.start_date"]]]),pe,i(e("input",{type:"text",id:"end_date","onUpdate:modelValue":t[8]||(t[8]=a=>s(o)["registrations.end_date"]=a),class:"w-10 mb-2 border-b-2 border-gray-300"},null,512),[[f,s(o)["registrations.end_date"]]])]))]),e("div",null,[ve,i(e("select",{"onUpdate:modelValue":t[9]||(t[9]=a=>s(o)["registrations.level"]=a),name:"level",id:"level"},be,512),[[b,s(o)["registrations.level"]]])]),e("div",null,[he,i(e("select",{"onUpdate:modelValue":t[10]||(t[10]=a=>s(o)["results.mention"]=a),name:"type",id:"type"},we,512),[[b,s(o)["results.mention"]]])]),e("div",{class:"col-span-2 space-x-4 text-center"},[e("button",{class:"px-6 py-2 button",type:"button",onClick:z},"Appliquer")])],32)):v("",!0)]))}};var Ue=K(Ve,[["__scopeId","data-v-21b15270"]]);export{Ue as default};
